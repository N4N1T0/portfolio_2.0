---
import { getPosts } from '@/lib/fetchers'
import BlogCard from './BlogCard.astro'
import { buttonVariants } from '@/components/ui/utils'
import { Icons } from '@/components/icons/icons'

const featuredPost = await getPosts('en', 4)
---

<section class='section container px-4'>
  <h2 class='text-3xl font-bold font-pixel screen-line-after py-1'>Blog</h2>
  <div class='relative py-4'>
    <div
      class='pointer-events-none absolute inset-0 -z-1 grid grid-cols-1 gap-4 max-sm:hidden sm:grid-cols-2'
    >
      <div class='border-r border-edge'></div>
      <div class='border-l border-edge'></div>
    </div>

    <div class='grid grid-cols-1 gap-4 sm:grid-cols-2'>
      {featuredPost.map((post) => <BlogCard blogPost={post} />)}
    </div>
  </div>

  <div class='screen-line-before flex justify-center py-2'>
    <a href='/blog' class={buttonVariants({ variant: 'default' })}>
      All Posts
      <Icons.arrowUpRight />
    </a>
  </div>
</section>
